(function(t){function e(e){for(var s,o,i=e[0],l=e[1],c=e[2],u=0,d=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);m&&m(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function o(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"98d4d660"}[t]+".js"}function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=n[t]=[e,s]}));e.push(a[2]=s);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(t);var c=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",c.name="ChunkLoadError",c.type=s,c.request=r,a[1](c)}n[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var m=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01f7":function(t,e,a){},"034f":function(t,e,a){"use strict";a("85ec")},"1f57":function(t,e,a){"use strict";a("dde7")},"2adf":function(t,e,a){},3626:function(t,e,a){"use strict";a("850e")},"40d9":function(t,e,a){t.exports=a.p+"img/bootstrap-social-logo.d012e3c7.png"},"53d7":function(t,e,a){"use strict";a("01f7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Header"),a("router-view"),a("Footer")],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-dark"},[t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link"},[a("router-link",{attrs:{to:"/"}},[t._v("Home")])],1)]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("router-link",{attrs:{to:"/about"}},[t._v("About")])],1)])]),a("form",{staticClass:"form-inline my-2 my-lg-0",on:{submit:function(t){t.preventDefault()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.valorFiltre,expression:"valorFiltre"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.valorFiltre},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.filtrarFiles(e)},input:function(e){e.target.composing||(t.valorFiltre=e.target.value)}}}),a("router-link",{attrs:{to:{name:"filtre",params:{f:t.valorFiltre}}}},[t._v("Filtrar")])],1),a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link"},[a("router-link",{attrs:{to:"/signup"}},[t._v("Sign Up")])],1)])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l=(a("d3b7"),a("8c4f")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[t._m(0),a("h1",{staticClass:"mb-4"},[t._v(t._s(t.msg))]),a("Posts")],1)},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"images mb-4"},[s("img",{staticClass:"img-fluid img-thumbnail mx-4",attrs:{alt:"Vue logo",src:a("e669")}}),s("img",{staticClass:"img-fluid img-thumbnail mx-4",attrs:{alt:"Bootstrap logo",src:a("40d9")}})])}],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("button",{staticClass:"btn btn-primary mt-3 mb-2",on:{click:t.addPost}},[t._v(" Add Post (with random contents) ")]),a("div",{staticClass:"fila headers"},[a("span",[t._v("#")]),a("span",[t._v("Title "),a("i",{staticClass:"bi bi-arrow-down-square",on:{click:function(e){return t.orderPosts("desc")}}}),a("i",{staticClass:"bi bi-arrow-up-square",on:{click:function(e){return t.orderPosts("asc")}}})]),a("span",[t._v("Contents")])]),t._l(t.postsUpdated,(function(e){return a("div",{key:e.id},[a("Post",{attrs:{post:e},on:{deletepost:t.deletePost}})],1)}))],2)},d=[],f=(a("99af"),a("4de4"),a("4160"),a("c975"),a("a434"),a("159b"),a("96cf"),a("1da1")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fila"},[a("span",[t._v(t._s(t.post.id))]),a("span",[t._v(t._s(t.post.title))]),a("span",[t._v(t._s(t.post.contents))]),a("span",{on:{click:function(e){return t.deletePost(t.post.id)}}},[a("i",{staticClass:"bi bi-trash-fill"})]),a("span",{on:{click:function(e){return t.mostraPost(t.post.id)}}},[a("i",{staticClass:"bi bi-eye"})])])},v=[],h={name:"Post",props:{post:Object},methods:{mostraPost:function(t){this.$router.push({name:"viewPost",params:{id:t}})},deletePost:function(t){this.$emit("deletepost",t)}}},g=h,b=(a("3626"),a("2877")),C=Object(b["a"])(g,p,v,!1,null,"3f7b2c54",null),_=C.exports,y={name:"Posts",components:{Post:_},props:{f:String},watch:{$route:function(t,e){console.info("to = ",t),console.info("from = ",e);var a=t.params.f;this.getPosts(a)}},data:function(){return{posts:[]}},computed:{postsUpdated:function(){return this.posts}},mounted:function(){this.getPosts(" "),this.$on("filterEvent",(function(){console.log("aaa")}))},beforeUpdated:function(){},updated:function(){},methods:{getPosts:function(t){var e=this,a=this.$store.getters.getAPIurl;fetch(a+"posts",{method:"GET"}).then((function(t){return t.json()})).then((function(a){console.log(t),e.posts=" "==t?a:a.filter((function(e){return-1!=e.title.indexOf(t)}))}))},deletePost:function(t){var e=this,a=this.$store.getters.getAPIurl;fetch("".concat(a,"posts/").concat(t),{method:"DELETE"}).then((function(t){return t.json()})).then((function(){e.posts.forEach((function(a,s){a.id!=t||e.posts.splice(s,1)}))}))},addPost:function(){var t="https://my-json-server.typicode.com/classicoman2/fakeRESTserver/posts",e=Math.floor(3*Math.random())+1;s(this.posts);var a=this.$store.getters.getAPIurl;function s(t){return n.apply(this,arguments)}function n(){return n=Object(f["a"])(regeneratorRuntime.mark((function s(n){var r,o,i,l,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,fetch(t+"/"+e);case 2:return r=s.sent,s.next=5,r.json();case 5:return o=s.sent,i={title:o.title,contents:o.contents},s.next=9,fetch(a+"posts",{method:"POST",body:JSON.stringify(i),headers:{"Content-type":"application/json; charset=UTF-8"}});case 9:return l=s.sent,s.next=12,l.json();case 12:c=s.sent,console.info("Post Creat:",c),n.push(c);case 15:case"end":return s.stop()}}),s)}))),n.apply(this,arguments)}},orderPosts:function(t){var e=0;if("desc"==t)e=-1;else{if("asc"!=t)throw new Error("method OrderPosts, invalid parameter");e=1}this.posts.sort((function(t,a){return t.title<a.title?e:t.title>a.title?-e:0}))},filterPosts:function(t){this.posts.filter((function(e){return-1!=e.title.indexOf(t)}))}}},w=y,P=(a("5840"),Object(b["a"])(w,m,d,!1,null,null,null)),x=P.exports,N={name:"Home",data:function(){return{msg:"Welcome to Your Vue.js + Bootstrap 4 App"}},components:{Posts:x}},k=N,E=(a("ac97"),Object(b["a"])(k,c,u,!1,null,"7456e4fc",null)),j=E.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"post"},[a("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-5",attrs:{for:"firstName"}},[t._v("Title")]),a("input",{staticClass:"col-7 form-control",attrs:{type:"text"},domProps:{value:t.post.title}})]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-5",attrs:{for:"firstName"}},[t._v("Contents")]),a("input",{staticClass:"col-7 form-control",attrs:{type:"text"},domProps:{value:t.post.contents}})])]),a("table",{staticClass:"table"},t._l(t.post.comments,(function(e){return a("tr",{key:e.user},[a("td",[t._v(t._s(e.user))]),a("td",[t._v(t._s(e.contents))])])})),0),a("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[a("div",{staticClass:"row"},[a("label",{staticClass:"col-5",attrs:{for:"firstName"}},[t._v("User")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newcomment.user,expression:"newcomment.user"}],staticClass:"col-7 form-control",attrs:{type:"text"},domProps:{value:t.newcomment.user},on:{input:function(e){e.target.composing||t.$set(t.newcomment,"user",e.target.value)}}})]),a("div",{staticClass:"row"},[a("label",{staticClass:"col-5",attrs:{for:"firstName"}},[t._v("Comment")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newcomment.contents,expression:"newcomment.contents"}],staticClass:"col-7 form-control",attrs:{type:"text"},domProps:{value:t.newcomment.contents},on:{input:function(e){e.target.composing||t.$set(t.newcomment,"contents",e.target.value)}}})]),a("a",{staticClass:"btn btn-secondary mt-2",on:{click:t.addComment}},[t._v("Publish Comment")])])])},$=[],F={name:"viewPost",props:{id:String},data:function(){return{post:{},newcomment:{user:"",contents:""}}},mounted:function(){var t=this,e=this.$store.getters.getAPIurl;fetch(e+"posts/"+this.id).then((function(t){return t.json()})).then((function(e){t.post=e}))},methods:{addComment:function(){var t=this.$store.getters.getAPIurl;function e(t,e){return a.apply(this,arguments)}function a(){return a=Object(f["a"])(regeneratorRuntime.mark((function e(a,s){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return void 0===a.comments?(a.comments=[{id:1,user:s.user,contents:s.contents}],console.log("There are no comments yet")):(n=a.comments.sort((function(t,e){return e.id-t.id}))[0].id,a.comments.push({id:n+1,user:s.user,contents:s.contents})),e.next=3,fetch(t+"posts/"+a.id,{method:"PATCH",body:JSON.stringify({comments:a.comments}),headers:{"Content-type":"application/json; charset=UTF-8"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)}e(this.post,this.newcomment).then((function(t){console.log(t)})).catch((function(t){return console.error("There was an error while storing the comment",t)}))}}},S=F,U=(a("1f57"),Object(b["a"])(S,O,$,!1,null,"8913f316",null)),T=U.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-8"},[a("form",{staticClass:"needs-validation",attrs:{novalidate:""},on:{submit:function(t){t.preventDefault()}}},[a("h2",{staticClass:"mb-5 text-center"},[t._v("Sign Up Form")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 mb-3"},[a("label",{attrs:{for:"firstName"}},[t._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.firstName,expression:"data.firstName"}],staticClass:"form-control",class:{"is-valid":t.validFirstName(),"is-invalid":!t.validFirstName()},attrs:{type:"text",id:"firstName",placeholder:"",value:"",required:""},domProps:{value:t.data.firstName},on:{input:function(e){e.target.composing||t.$set(t.data,"firstName",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("Valid first name is required.")]),a("div",{staticClass:"valid-feedback"},[t._v("First name is correct.")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 mb-3"},[a("label",{attrs:{for:"lastName"}},[t._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.lastName,expression:"data.lastName"}],staticClass:"form-control",class:{"is-valid":t.validLastName(),"is-invalid":!t.validLastName()},attrs:{type:"text",id:"lastName",placeholder:"",value:"",required:""},domProps:{value:t.data.lastName},on:{input:function(e){e.target.composing||t.$set(t.data,"lastName",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("Valid last name is required.")]),a("div",{staticClass:"valid-feedback"},[t._v("Last name is correct.")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 mb-3"},[a("label",{attrs:{for:"username"}},[t._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.username,expression:"data.username"}],staticClass:"form-control",class:{"is-valid":t.validUsername(),"is-invalid":!t.validUsername()},attrs:{type:"text",id:"username",placeholder:"Username",required:""},domProps:{value:t.data.username},on:{input:function(e){e.target.composing||t.$set(t.data,"username",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("Username is incorrect.")]),a("div",{staticClass:"valid-feedback"},[t._v("Username is correct")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 mb-3"},[a("label",{attrs:{for:"email"}},[t._v("Email ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],staticClass:"form-control",class:{"is-valid":t.validEmail(),"is-invalid":!t.validEmail()},attrs:{type:"email",id:"email",placeholder:"you@example.com"},domProps:{value:t.data.email},on:{input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("Please enter a valid email.")]),a("div",{staticClass:"valid-feedback"},[t._v("Email is correct")])])]),a("hr",{staticClass:"mb-4"}),t._m(0),a("button",{staticClass:"btn btn-primary btn-lg mt-4",attrs:{type:"submit"},on:{click:t.registerUser}},[t._v(" Register ")])])])},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"same-address"}}),a("label",{staticClass:"custom-control-label",attrs:{for:"same-address"}},[t._v("By creating an account, you agree our Conditions of Use and Privacy Notice.")])])}],I={name:"SignUpForm",props:{},data:function(){return{data:{firstName:"",lastName:"",username:"",email:""}}},methods:{registerUser:function(){var t=!0;this.validFirstName()||(document.getElementById("firstName").classList.add("is-invalid"),t=!1),this.validLastName()||(document.getElementById("lastName").classList.add("is-invalid"),t=!1),this.validEmail()||(document.getElementById("email").classList.add("is-invalid"),t=!1),t?console.log(JSON.stringify(this.data)):console.log("Some fields are missing/incorrect")},validFirstName:function(){return this.validText(this.data.firstName)},validLastName:function(){return this.validText(this.data.lastName)},validUsername:function(){return!0},validEmail:function(){var t=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;return console.warn(t.test(this.data.email)),t.test(this.data.email)},validText:function(t){var e=/[a-zA-Z]{5,}/g;return e.test(t)}},mounted:function(){document.getElementById("firstName").classList.remove("is-invalid"),document.getElementById("lastName").classList.remove("is-invalid"),document.getElementById("username").classList.remove("is-invalid"),document.getElementById("email").classList.remove("is-invalid")}},B=I,q=(a("c074"),Object(b["a"])(B,A,L,!1,null,"5b5f1975",null)),H=q.exports;s["a"].use(l["a"]);var D=[{path:"/",name:"Home",component:j},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/post/:id",component:T,props:!0,name:"viewPost"},{path:"/filtre/:f",component:j,props:!0,name:"filtre"},{path:"/signup",component:H,props:!1,name:"signupform"}],M=new l["a"]({mode:"history",base:"/",routes:D}),R=M,J={name:"Header",props:{},data:function(){return{valorFiltre:""}},methods:{filtrarFiles:function(){R.push({name:"filtre",params:{f:this.valorFiltre}})}}},z=J,V=Object(b["a"])(z,o,i,!1,null,"73e53644",null),Y=V.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer mt-4 py-3 bg-dark"},[a("div",{staticClass:"container"},[a("span",{staticClass:"mx-1"},[t._v(t._s(t.name))]),t._v("-"),a("span",{staticClass:"mx-1"},[t._v(t._s(t.year))])])])},W=[],Z=(a("b0c0"),{name:"Footer",props:{},data:function(){return{name:"",year:0}},mounted:function(){this.name=this.$store.getters.getName,this.year=this.$store.getters.getYear}}),K=Z,Q=(a("53d7"),Object(b["a"])(K,G,W,!1,null,null,null)),X=Q.exports,tt={name:"App",components:{Header:Y,Footer:X}},et=tt,at=(a("034f"),Object(b["a"])(et,n,r,!1,null,null,null)),st=at.exports,nt=(a("4989"),a("9607"),a("cd74"),a("ac1f"),a("1276"),a("2f62"));s["a"].use(nt["a"]);var rt=new nt["a"].Store({state:{APIbaseUrl:"http://localhost:5000/",footerData:{year:2021,name:"Classicoman"},count:0},mutations:{increment:function(t){t.count++}},getters:{getYear:function(t){return t.footerData.year},getName:function(t){return t.footerData.name},getAPIurl:function(t){return console.log("url de la web:",window.location.href.split("://")[1].split(":")[0]),"localhost"===window.location.href.split("://")[1].split(":")[0]?t.APIbaseUrl:window.location.href.split("/#")[0]}}});s["a"].config.productionTip=!1,new s["a"]({router:R,store:rt,render:function(t){return t(st)}}).$mount("#app")},5840:function(t,e,a){"use strict";a("982b")},6265:function(t,e,a){},"850e":function(t,e,a){},"85ec":function(t,e,a){},9607:function(t,e,a){},"982b":function(t,e,a){},ac97:function(t,e,a){"use strict";a("6265")},c074:function(t,e,a){"use strict";a("2adf")},dde7:function(t,e,a){},e669:function(t,e,a){t.exports=a.p+"img/logo-vue.82b9c7a5.png"}});
//# sourceMappingURL=app.369ce34a.js.map